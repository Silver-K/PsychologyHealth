import{d,l as f,r as _,a as y,b as v,p as g,C as w,j as M,o as n,E as i}from"./index-BQnCW9fW.js";import{M as D}from"./MinorInput-COXFndau.js";import{a as h,m as I,d as S}from"./minors-BaDYqbng.js";import{t as k}from"./minors-DzstKTHx.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./street-BzrcKUSb.js";import"./MultiFileInput-BNB1gvTJ.js";import"./utils-DdpY_R0b.js";const x={class:"minor-detail"},C={class:"card"},E=d({__name:"MinorDetail",setup(V){const c=f(),s=M(),{id:a}=c.params;async function l(o){const t=await h(void 0,{id:o});return Array.isArray(t)&&t.length?t[0]:(await s.replace("/list"),null)}const e=_(null);async function r(){e.value=await l(String(a))}r();const u=()=>{s.push(`/psychology/${String(a)}`)},m=async o=>{if(!o||!e.value)return;e.value=k(e.value),await I(a,e.value)===1?i({message:"修改失败",type:"warning"}):(i({message:"修改成功",type:"success"}),r())},p=()=>{S(String(a))};return(o,t)=>(n(),y("div",x,[v("div",C,[e.value?(n(),g(D,{key:0,form:e.value,onViewPsyTest:u,onSubmit:m,onDownload:p},null,8,["form"])):w("",!0)])]))}}),$=B(E,[["__scopeId","data-v-5035788f"]]);export{$ as default};
