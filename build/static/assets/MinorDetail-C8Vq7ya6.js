import{d as y,l as v,r as g,b as k,f as s,C as w,y as b,K as M,k as D,i,E as c}from"./index-BR5oj7Uf.js";import{M as h}from"./MinorInput-33xcfTiD.js";import{a as B,m as I,d as S}from"./minors-mXhleVk2.js";import{t as x}from"./minors-DzstKTHx.js";import{u as C}from"./useBack-BxE6UYeR.js";import{_ as T}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./street-Dw46nwSk.js";import"./MultiFileInput-DNs63xtC.js";import"./utils-BW_ZrKIj.js";const V={class:"minor-detail"},E={class:"normal-card"},N=y({__name:"MinorDetail",setup(A){const l=v(),n=D(),{id:a}=l.params;async function u(t){const o=await B(void 0,{id:t});return Array.isArray(o)&&o.length?o[0]:(await n.replace("/list"),null)}const e=g(null);async function r(){e.value=await u(String(a))}r();const m=()=>{n.push(`/psychology/${String(a)}`)},d=async t=>{if(!t||!e.value)return;e.value=x(e.value),await I(a,e.value)===1?c({message:"修改失败",type:"warning"}):(c({message:"修改成功",type:"success"}),r())},p=()=>{S(String(a))},f=C(),_=()=>{f("/home?row_page_key=minors")};return(t,o)=>(i(),k("div",V,[s("div",{class:"back-btn",onClick:_},o[0]||(o[0]=[s("span",{class:"icon icon-back icon-bold icon-free"},null,-1),w(" 返回 ",-1)])),s("div",E,[e.value?(i(),b(h,{key:0,form:e.value,onViewPsyTest:m,onSubmit:d,onDownload:p},null,8,["form"])):M("",!0)])]))}}),G=T(N,[["__scopeId","data-v-3086ca4c"]]);export{G as default};
